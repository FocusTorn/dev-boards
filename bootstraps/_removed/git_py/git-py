#!/usr/bin/env python3
"""
Cross-platform launcher for git_py.
This single file works on Windows, Linux, and macOS.

Usage:
    python git-py init
    python git-py status
    python git-py auth

Or make it executable (Unix/Linux/Mac):
    chmod +x git-py
    ./git-py init
"""

import sys
import os

# Get the directory containing this script
_script_dir = os.path.dirname(os.path.abspath(__file__))
_main_py = os.path.join(_script_dir, "main.py")

# Check if main.py exists
if not os.path.exists(_main_py):
    print(f"Error: Could not find main.py in {_script_dir}", file=sys.stderr)
    sys.exit(1)

# Execute main.py with the same arguments
if __name__ == "__main__":
    # Import and run main.py's main function
    # Add the script directory to path temporarily
    _parent_dir = os.path.dirname(_script_dir)
    if _parent_dir not in sys.path:
        sys.path.insert(0, _parent_dir)
    
    # Import git_py.main and run it
    from git_py.main import main
    sys.exit(main())

